# Copyright (C) 2001-2003
# William E. Kempf
#
# Permission to use, copy, modify, distribute and sell this software
# and its documentation for any purpose is hereby granted without fee,
# provided that the above copyright notice appear in all copies and
# that both that copyright notice and this permission notice appear
# in supporting documentation.  William E. Kempf makes no representations
# about the suitability of this software for any purpose.
# It is provided "as is" without express or implied warranty.
#
# Boost.Threads test Jamfile
#
# Additional configuration variables used:
#   See threads.jam.

# Declare the location of this subproject relative to the root.
subproject libs/thread/test ;

# Include threads.jam for Boost.Threads global build information.
# This greatly simplifies the Jam code needed to configure the build
# for the various Win32 build types.
import ../build/threads ;

# bring in rules for testing
import testing ;

{
    template test
        ## sources ##
        : <template>thread_base
          <dll>../build/boost_thread
          <lib>../../test/build/boost_unit_test_framework
        ## requirements ##
        : <define>BOOST_ALL_NO_LIB=1
        ## default build ##
        :
    ;

    test-suite "threads"
        : [ run test_thread.cpp <template>test ]
          [ run test_mutex.cpp <template>test ]
          [ run test_condition.cpp <template>test ]
          [ run test_tss.cpp <template>test ]
          [ run test_once.cpp <template>test ]
          [ run test_xtime.cpp <template>test ]
          [ run test_barrier.cpp <template>test ]
          [ run test_read_write_mutex.cpp <template>test ]
    ;
}
